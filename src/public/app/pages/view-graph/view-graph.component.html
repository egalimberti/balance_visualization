<div class="menu">
    <div class="menu-title">
        <h1>Visualizing structural balance in signed networks</h1>
    </div>
    <div class="menu-input row mt-3" *ngIf="showForm">
        <div class="form-group col-7 offset-1">
            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <label class="input-group-text" for="overlapRemovalModeSelect">Nodes' radius</label>
                </div>
                <select class="custom-select" id="overlapRemovalModeSelect" [(ngModel)]="config.overlapRemovalMode">
                    <option *ngFor="let mode of overlapRemovalModes | keyvalue" [ngValue]="mode.value">
                        {{ mode.value }}
                    </option>
                </select>
            </div>

            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <label class="input-group-text" for="decompositionType">Scale</label>
                </div>
                <select class="custom-select" id="decompositionType" [(ngModel)]="config.dtype">
                    <option [value]="dtypes.NONE" selected>none</option>
                    <option [value]="dtypes.CLUSTER_SIZE">cluster size</option>
                </select>
            </div>

            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <label class="input-group-text" for="decimalsPrecision">Decimals precision</label>
                </div>
                <select class="custom-select" #decimalsPrecision id="decimalsPrecision"
                    [ngModel]="config.decimalPrecision" (ngModelChange)="setDecimalPrecision(decimalsPrecision.value)">
                    <option [value]="8" selected>8 decimals</option>
                    <option [value]="7">7 decimals</option>
                    <option [value]="6">6 decimals</option>
                    <option [value]="5">5 decimals</option>
                    <option [value]="4">4 decimals</option>
                    <option [value]="3">3 decimals</option>
                    <option [value]="2">2 decimals</option>
                    <option [value]="1">1 decimals</option>
                </select>
            </div>

            <div class="input-group mb-2">
                <div class="input-group-prepend">
                    <span class="input-group-text">Upload dataset</span>
                </div>
                <div class="custom-file">
                    <input #FileInput type="file" class="custom-file-input" id="inputGroupFile01"
                        [disabled]="!!defaultInputFile" (change)="setFile($event)">
                    <label class="custom-file-label" for="inputGroupFile01">Choose file</label>
                </div>
            </div>

            <div class="input-group mb-2" *ngIf="!!defaultInputFiles && !!defaultInputFiles.length">
                <div class="input-group-prepend">
                    <span class="input-group-text">Default datasets</span>
                </div>
                <select #defaultDataSelect class="custom-select" id="defaultDatasets" [(ngModel)]="defaultInputFile">
                    <option *ngFor="let ds of defaultInputFiles" [value]="ds">{{ ds }}</option>
                </select>
                <div class="input-group-append link"
                    (click)="defaultDataSelect.value = undefined; defaultInputFile = undefined">
                    <span class="input-group-text">Reset</span>
                </div>
            </div>
        </div>
        <div class="form-group col-3 radio-buttons">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" [(ngModel)]="config.darkMode"
                    [ngModelOptions]="{standalone: true}" id="darkMode">
                <label class="form-check-label" for="darkMode">
                    Dark Mode
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" [(ngModel)]="config.useServerGenerator"
                    [ngModelOptions]="{standalone: true}" id="useServerGenerator">
                <label class="form-check-label" for="useServerGenerator">
                    Use server generator
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" [(ngModel)]="config.showZoom"
                    [ngModelOptions]="{standalone: true}" id="zoomOption">
                <label class="form-check-label" for="zoomOption">
                    Zoom
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" [ngModel]="config.showAxesTicks && !config.showZoom"
                    (ngModelChange)="config.showAxesTicks = $event" [ngModelOptions]="{standalone: true}"
                    id="ticksOption" [disabled]="config.showZoom">
                <label class=" form-check-label" for="ticksOption">
                    Axes' ticks
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" [(ngModel)]="config.edgesDynamicOpacity"
                    [ngModelOptions]="{standalone: true}" id="dynamicOption">
                <label class="form-check-label" for="dynamicOption">
                    Edges' dynamic opacity
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" [(ngModel)]="config.highlight"
                    [ngModelOptions]="{standalone: true}" id="highlightOption">
                <label class="form-check-label" for="highlightOption">
                    Highlighting
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" [(ngModel)]="config.showUnbalancement"
                    [ngModelOptions]="{standalone: true}" id="unbalancementOption">
                <label class="form-check-label" for="unbalancementOption">
                    Show unbalancement
                </label>
            </div>
        </div>
        <button type="button" id="btnDisplay" (click)="displayData()" class="btn btn-secondary btn-lg btn-block"
            type="submit" [disabled]="!inputFile && !defaultInputFile">
            Show
        </button>
        <button type="button" id="btnExport" (click)="exportButtonClick()" [disabled]="!latestResponse"
            class="btn btn-secondary btn-lg btn-block">
            Download
        </button>
    </div>
    <div class="menu-toggle" (click)="toggleMenu()">
        <div></div>
    </div>

</div>

<main class="main-content" [ngClass]="{'dark': config.darkMode}">
    <div class="row no-gutters">

        <div id="svg" class="col-12 d-flex justify-content-center">
        </div>
        <ng-template [ngIf]="!!error && !!error.hasError">
            <!-- Error Alert -->
            <div class="col-12 error-message h-100 w-100 text-center">
                <h1 class="font-weight-bold">Error!</h1>
                <h4>{{ error.errorMessage }}</h4>
            </div>
        </ng-template>
    </div>
</main>